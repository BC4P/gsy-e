



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Wiki for the D3A by Grid Singularity">
      
      
        <link rel="canonical" href="https://gridsingularity.github.io/d3a/d3a-documentation/assets-api/">
      
      
        <meta name="author" content="Grid Singularity">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/d3a-favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Asset API - Grid Singularity D3A Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"PT Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#api-commands" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://gridsingularity.github.io/d3a/d3a-documentation/" title="Grid Singularity D3A Wiki" class="md-header-nav__button md-logo">
          
            <img src="../img/d3a-logo.png" width="32" height="32">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Grid Singularity D3A Wiki
            </span>
            <span class="md-header-nav__topic">
              Asset API
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/gridsingularity/d3a/wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    D3A on github
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://gridsingularity.github.io/d3a/d3a-documentation/" title="Grid Singularity D3A Wiki" class="md-nav__button md-logo">
      
        <img src="../img/d3a-logo.png" width="48" height="48">
      
    </a>
    Grid Singularity D3A Wiki
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/gridsingularity/d3a/wiki/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    D3A on github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      General Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        General Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../d3a-documentation/" title="Energy Market Design Challenge" class="md-nav__link">
      Energy Market Design Challenge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vision/" title="Grid Singularity Vision" class="md-nav__link">
      Grid Singularity Vision
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../technical-approach/" title="Grid Singularity Technical Approach" class="md-nav__link">
      Grid Singularity Technical Approach
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../licensing/" title="Licensing and Open Source Ethos" class="md-nav__link">
      Licensing and Open Source Ethos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Market Mechanism
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Market Mechanism
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../markets/" title="Market Types: Spot, Balancing, and Futures" class="md-nav__link">
      Market Types: Spot, Balancing, and Futures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../inter-area-agent/" title="Bids/Offers Process and Hierarchical Market Structure" class="md-nav__link">
      Bids/Offers Process and Hierarchical Market Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../default-trading-strategy/" title="Trading Strategies" class="md-nav__link">
      Trading Strategies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Clearing Mechanisms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Clearing Mechanisms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../clearing-purpose/" title="Clearing Mechanism Types" class="md-nav__link">
      Clearing Mechanism Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../one-sided-pay-as-offer/" title="One-Sided Pay-as-Offer Market" class="md-nav__link">
      One-Sided Pay-as-Offer Market
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../two-sided-pay-as-bid/" title="Two-Sided Pay-as-Bid Market" class="md-nav__link">
      Two-Sided Pay-as-Bid Market
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../two-sided-pay-as-clear/" title="Two-Sided Pay-as-Clear Market" class="md-nav__link">
      Two-Sided Pay-as-Clear Market
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      Grid Fee Accounting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        Grid Fee Accounting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../grid-fees/" title="Grid Fee Objectives" class="md-nav__link">
      Grid Fee Objectives
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../constant-fees/" title="Constant Grid Fee Calculation" class="md-nav__link">
      Constant Grid Fee Calculation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../percentage-fees/" title="Percentage Grid Fee Calculation" class="md-nav__link">
      Percentage Grid Fee Calculation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Balancing Market
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        Balancing Market
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../balancing-market/" title="Balancing Market Structure" class="md-nav__link">
      Balancing Market Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../balancing-implementation/" title="Balancing Market Implementation" class="md-nav__link">
      Balancing Market Implementation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Interfaces
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Interfaces
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      APIs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Asset API
      </label>
    
    <a href="./" title="Asset API" class="md-nav__link md-nav__link--active">
      Asset API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-commands" title="API Commands" class="md-nav__link">
    API Commands
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#event-triggered-functions" title="Event-Triggered Functions" class="md-nav__link">
    Event-Triggered Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#each-new-market-on_market_cycleself-market_info" title="Each new market (ON_MARKET_CYCLE(SELF, MARKET_INFO))" class="md-nav__link">
    Each new market (ON_MARKET_CYCLE(SELF, MARKET_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-of-market-slot-completion-on_tickself-tick_info" title="On % of market slot completion (ON_TICK(SELF, TICK_INFO))" class="md-nav__link">
    On % of market slot completion (ON_TICK(SELF, TICK_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-tradeon_tradeself-trade_info" title="On trade(ON_TRADE(SELF, TRADE_INFO))" class="md-nav__link">
    On trade(ON_TRADE(SELF, TRADE_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-simulation-finish-on_finishedself" title="On simulation finish (ON_FINISHED(SELF))" class="md-nav__link">
    On simulation finish (ON_FINISHED(SELF))
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-bids-and-offers" title="Sending bids and offers" class="md-nav__link">
    Sending bids and offers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trading-strategies" title="Trading Strategies" class="md-nav__link">
    Trading Strategies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../grid-operator-api/" title="Grid Operator API" class="md-nav__link">
      Grid Operator API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloud-service-guide/" title="API agent on cloud" class="md-nav__link">
      API agent on cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../collaboration/" title="Collaboration Tool" class="md-nav__link">
      Collaboration Tool
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../canary-network/" title="Canary Test Network" class="md-nav__link">
      Canary Test Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../blockchain/" title="Blockchain Integration" class="md-nav__link">
      Blockchain Integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Configuration general settings and installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Configuration general settings and installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../general-settings/" title="General Configuration Settings" class="md-nav__link">
      General Configuration Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../data-requirements/" title="Data Requirements for Customized Simulations" class="md-nav__link">
      Data Requirements for Customized Simulations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Backend Installation Instructions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Backend Installation Instructions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../linux-installation-instructions/" title="Linux Installation Instructions" class="md-nav__link">
      Linux Installation Instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ios-installation-instructions/" title="Mac Installation Instructions" class="md-nav__link">
      Mac Installation Instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../vm-installation-instructions/" title="Virtual Machine Installation Instructions" class="md-nav__link">
      Virtual Machine Installation Instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../version-update/" title="Version Updates" class="md-nav__link">
      Version Updates
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Modelling
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        Modelling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ui-initialisation/" title="Setting up a simulation in the User Interface" class="md-nav__link">
      Setting up a simulation in the User Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-markets/" title="Market Settings" class="md-nav__link">
      Market Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-4-3" type="checkbox" id="nav-4-4-3">
    
    <label class="md-nav__link" for="nav-4-4-3">
      Energy Assets Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-4-3">
        Energy Assets Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../model-market-maker/" title="Market Maker and Infinite Bus" class="md-nav__link">
      Market Maker and Infinite Bus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-load/" title="Load" class="md-nav__link">
      Load
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-pv/" title="PV" class="md-nav__link">
      PV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-storage/" title="Storage" class="md-nav__link">
      Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-power-plant/" title="Power Plant" class="md-nav__link">
      Power Plant
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../map/" title="Map" class="md-nav__link">
      Map
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upload-file-formats/" title="File Upload Format" class="md-nav__link">
      File Upload Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../library/" title="Asset and Data Library" class="md-nav__link">
      Asset and Data Library
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../events/" title="Events (adding assets, communities, etc.)" class="md-nav__link">
      Events (adding assets, communities, etc.)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6">
    
    <label class="md-nav__link" for="nav-4-6">
      Results and Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Results and Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../results/" title="Results Dashboard" class="md-nav__link">
      Results Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-2" type="checkbox" id="nav-4-6-2">
    
    <label class="md-nav__link" for="nav-4-6-2">
      Key Performance Indicators (KPIs)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-2">
        Key Performance Indicators (KPIs)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../self-sufficiency-consumption/" title="Self-Sufficiency and Self-Consumption" class="md-nav__link">
      Self-Sufficiency and Self-Consumption
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../peak-percentage/" title="Peak Percentage" class="md-nav__link">
      Peak Percentage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../energy-bills/" title="Energy Bill" class="md-nav__link">
      Energy Bill
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../data-download/" title="Data Download" class="md-nav__link">
      Data Download
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../releases/" title="Releases Archive" class="md-nav__link">
      Releases Archive
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-commands" title="API Commands" class="md-nav__link">
    API Commands
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#event-triggered-functions" title="Event-Triggered Functions" class="md-nav__link">
    Event-Triggered Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#each-new-market-on_market_cycleself-market_info" title="Each new market (ON_MARKET_CYCLE(SELF, MARKET_INFO))" class="md-nav__link">
    Each new market (ON_MARKET_CYCLE(SELF, MARKET_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-of-market-slot-completion-on_tickself-tick_info" title="On % of market slot completion (ON_TICK(SELF, TICK_INFO))" class="md-nav__link">
    On % of market slot completion (ON_TICK(SELF, TICK_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-tradeon_tradeself-trade_info" title="On trade(ON_TRADE(SELF, TRADE_INFO))" class="md-nav__link">
    On trade(ON_TRADE(SELF, TRADE_INFO))
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-simulation-finish-on_finishedself" title="On simulation finish (ON_FINISHED(SELF))" class="md-nav__link">
    On simulation finish (ON_FINISHED(SELF))
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-bids-and-offers" title="Sending bids and offers" class="md-nav__link">
    Sending bids and offers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trading-strategies" title="Trading Strategies" class="md-nav__link">
    Trading Strategies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/gridsingularity/d3a/wiki/edit/master/docs/assets-api.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Asset API</h1>
                
                <p>The Grid Singularity API client allows you to create agents that follow custom trading strategies to buy and sell energy in the energy market. The agent can request and receive information through the Asset API, feed that information into an algorithm, and post bids or offers on a live simulated exchange. </p>
<p><img alt="alt_text" src="../img/asset-api-1.png" /></p>
<h2 id="api-commands">API Commands<a class="headerlink" href="#api-commands" title="Permanent link">&para;</a></h2>
<h3 id="event-triggered-functions">Event-Triggered Functions<a class="headerlink" href="#event-triggered-functions" title="Permanent link">&para;</a></h3>
<p>In order to facilitate bid and offer management and scheduling, a python file with the class Oracle is provided. The Oracle class acts as an information aggregator for all of the energy assets (e.g. loads and PVs) you manage, and allows you to post bids and offers on their behalf. A few functions are triggered on different types of events, and can be overridden, useful to take actions when market events occur.</p>
<h4 id="each-new-market-on_market_cycleself-market_info">Each new market (<code>ON_MARKET_CYCLE(SELF, MARKET_INFO)</code>)<a class="headerlink" href="#each-new-market-on_market_cycleself-market_info" title="Permanent link">&para;</a></h4>
<p>When a new market slot is available the client will get notified via an event. It is possible to capture this event and perform operations after it by overriding the on_market_cycle method.</p>
<p>Ex: def on_market_cycle(self, market_info):</p>
<p>In the variable market_info you will get a dictionary with information on the market and your assets. You receive information for each asset you manage. The return values are the following :</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>

  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;house2&quot;</span><span class="p">,</span>

  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;13023c7d-205d-4b3a-a434-02375eb277ca&quot;</span><span class="p">,</span>

  <span class="nt">&quot;start_time&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">start-time</span> <span class="err">of</span> <span class="err">the</span> <span class="err">market</span> <span class="err">slot</span><span class="p">,</span>

  <span class="nt">&quot;duration_min&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="mi">15</span><span class="p">,</span>

  <span class="nt">&quot;asset_info&quot;</span><span class="p">:</span> <span class="p">{</span>

    <span class="nt">&quot;energy_requirement_kWh&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">energy</span> <span class="err">that</span> <span class="err">the</span> <span class="err">asset</span> <span class="err">has</span> <span class="err">to</span> <span class="err">buy</span> <span class="err">during</span> <span class="err">this</span> <span class="err">market</span> <span class="err">slot</span><span class="p">,</span>

    <span class="nt">&quot;available_energy_kWh&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">energy</span> <span class="err">that</span> <span class="err">the</span> <span class="err">asset</span> <span class="err">has</span> <span class="err">to</span> <span class="err">sell</span> <span class="err">during</span> <span class="err">this</span> <span class="err">market</span> <span class="err">slot</span>

  <span class="p">},</span>

  <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;market&quot;</span><span class="p">,</span>

  <span class="nt">&quot;asset_bill&quot;</span><span class="p">:</span> <span class="p">{</span>

    <span class="nt">&quot;bought&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">energy</span> <span class="err">bought</span> <span class="err">in</span> <span class="err">kWh</span><span class="p">,</span>

    <span class="nt">&quot;sold&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">energy</span> <span class="err">sold</span> <span class="err">in</span> <span class="err">kWh</span><span class="p">,</span>

    <span class="nt">&quot;spent&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">money</span> <span class="err">spent</span> <span class="err">in</span> <span class="err">€</span><span class="p">,</span>

    <span class="nt">&quot;earned&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">money</span> <span class="err">earned</span> <span class="err">in</span> <span class="err">€</span><span class="p">,</span>

    <span class="nt">&quot;total_energy&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">bought</span> <span class="err">-</span> <span class="err">sold</span><span class="p">,</span>

    <span class="nt">&quot;total_cost&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">spent</span> <span class="err">-</span> <span class="err">earned</span><span class="p">,</span>

    <span class="nt">&quot;market_fee&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">€</span> <span class="err">that</span> <span class="err">goes</span> <span class="err">in</span> <span class="err">grid</span> <span class="err">fee</span><span class="p">,</span>

    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">type</span> <span class="err">of</span> <span class="err">the</span> <span class="err">strategy</span>

    <span class="p">},</span>

  <span class="nt">&quot;last_market_stats&quot;</span><span class="p">:</span> <span class="p">{</span>

    <span class="nt">&quot;min_trade_rate&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">minimum</span> <span class="err">trade</span> <span class="err">price</span> <span class="err">in</span> <span class="err">€/kWh</span><span class="p">,</span>

    <span class="nt">&quot;max_trade_rate&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">maximum</span> <span class="err">trade</span> <span class="err">price</span> <span class="err">in</span> <span class="err">€/kWh</span><span class="p">,</span>

    <span class="nt">&quot;avg_trade_rate&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">average</span> <span class="err">trade</span> <span class="err">price</span> <span class="err">in</span> <span class="err">€/kWh</span><span class="p">,</span>

    <span class="nt">&quot;total_traded_energy_kWh&quot;</span><span class="p">:</span> <span class="err">#</span> <span class="err">total</span> <span class="err">energy</span> <span class="err">traded</span> <span class="err">in</span> <span class="err">kWh</span>

    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>


<h4 id="on-of-market-slot-completion-on_tickself-tick_info">On % of market slot completion (ON_TICK(SELF, TICK_INFO))<a class="headerlink" href="#on-of-market-slot-completion-on_tickself-tick_info" title="Permanent link">&para;</a></h4>
<p>Each 10% of market slot completion (e.g. 10%, 20%, 30%, …), the same information as market_info will be passed, with updated asset energy requirements based on trades. This can be used to update your bid or offer price at these milestones.</p>
<h4 id="on-tradeon_tradeself-trade_info">On trade(ON_TRADE(SELF, TRADE_INFO))<a class="headerlink" href="#on-tradeon_tradeself-trade_info" title="Permanent link">&para;</a></h4>
<p>Each time the asset you manage completes a trade, information about the trade is passed through trade_info. This information can be stored locally or acted upon.</p>
<h4 id="on-simulation-finish-on_finishedself">On simulation finish (ON_FINISHED(SELF))<a class="headerlink" href="#on-simulation-finish-on_finishedself" title="Permanent link">&para;</a></h4>
<p>This executes when the simulation finishes, and can be used to trigger exporting data, training a model or exiting the code.</p>
<h3 id="sending-bids-and-offers">Sending bids and offers<a class="headerlink" href="#sending-bids-and-offers" title="Permanent link">&para;</a></h3>
<p>The oracle is able to post bids and offers for multiple assets at the same time. This is implemented already in the template.</p>
<p>A batch_command dictionary structure is used. To update an existing bid with a load and update both your bid and offer with a storage asset, you would use:</p>
<div class="codehilite"><pre><span></span><code><span class="n">batch_commands</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">batch_commands</span><span class="p">[</span><span class="n">asset_event</span><span class="p">[</span><span class="s2">&quot;area_uuid&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;update_bid&quot;</span><span class="p">,</span>
         <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="n">price</span><span class="p">,</span>
         <span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="n">energy</span><span class="p">},]</span>
<span class="n">batch_commands</span><span class="p">[</span><span class="n">asset_event</span><span class="p">[</span><span class="s2">&quot;area_uuid&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;update_bid&quot;</span><span class="p">,</span>
         <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="n">buy_price</span><span class="p">,</span>
         <span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="n">buy_energy</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;update_offer&quot;</span><span class="p">,</span>
         <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="n">sell_price</span><span class="p">,</span>
         <span class="s2">&quot;energy&quot;</span><span class="p">:</span> <span class="n">sell_energy</span><span class="p">},)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">batch_command</span><span class="p">(</span><span class="n">batch_commands</span><span class="p">)</span>
</code></pre></div>


<p>Note: The total amount of energy bid at any point is limited to the energy requirement of the asset. Updating a bid during a market slot deletes other active bids. Additionally, the price of your bids/offers must be a positive float otherwise it will get rejected by the market.</p>
<h3 id="trading-strategies">Trading Strategies<a class="headerlink" href="#trading-strategies" title="Permanent link">&para;</a></h3>
<p>A simple trading strategy is available in the <a href="https://github.com/gridsingularity/d3a/blob/master/src/d3a/setup/odyssey_momentum/assets_api_template.py">template agent</a>. See the <code>TODO</code> flags there to see how you may configure your trading strategy and extract market and asset data.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../api-overview/" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </span>
            </div>
          </a>
        
        
          <a href="../grid-operator-api/" title="Grid Operator API" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Grid Operator API
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-logo">
        <img src="../img/d3a-logo.png" height="50"/>
      </div>
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/gridsingularity" class="md-footer-social__link fa fa-lg fa-github"></a>
    
      <a href="https://twitter.com/gridsingularity" class="md-footer-social__link fa fa-lg fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/grid-singularity" class="md-footer-social__link fa fa-lg fa-linkedin"></a>
    
      <a href="https://join.slack.com/t/gsycommunity/shared_invite/zt-dpfxe2gk-hKFccsrr68g982odCJlrIg" class="md-footer-social__link fa fa-lg fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.05d1c8d6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://research.web3.foundation/en/latest/mathjax-config.js"></script>
      
        <script src="../search/main.js"></script>
      
    
  </body>
</html>